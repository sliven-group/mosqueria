"use strict";(self.webpackChunkmosqueira=self.webpackChunkmosqueira||[]).push([[946],{677:function(e,r,o){var a=o(840),n=o(482);window.addEventListener("load",function(){var e=document.getElementById("mos-form-cb"),r=e.querySelector("#mos-form-cb-btn"),o=document.getElementById("mos-form-cb-message"),d=document.getElementById("departamento-cb"),t=document.getElementById("provincia-cb"),i=document.getElementById("distrito-cb"),u=null==d?void 0:d.value,c=null==t?void 0:t.dataset.provincia,l=null==i?void 0:i.dataset.distrito,p=document.querySelectorAll('input[name="your-age-cb"]'),m=document.getElementById("pamatu-cb"),s=document.querySelectorAll("#mos-form-cb textarea"),v=new n.Ay(e),q=new FormData,b=function(e,r){if(!e||""===r.trim())return!1;switch(e){case"DNI":return/^\d{8}$/.test(r);case"Pasaporte":return/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{5,15}$/.test(r);case"CE":return/^\d{9}$/.test(r);case"RUC":return/^\d{11}$/.test(r);default:return!0}};if(v.addField("#name-cb",[{rule:"required",errorMessage:"Campo requerido"}]).addField("#lastname-cb",[{rule:"required",errorMessage:"Campo requerido"}]).addField("#tipo-doc-cb",[{rule:"required",errorMessage:"Campo requerido"}]).addField("#nro-doc-cb",[{validator:function(e){return b(document.querySelector("#tipo-doc-cb").value,e)},errorMessage:"Número de documentación inválido según el tipo"}]).addField("#cel-cb",[{rule:"required",errorMessage:"Telefono es requerido"}]).addField("#departamento-cb",[{rule:"required",errorMessage:"Campo requerido"}]).addField("#provincia-cb",[{rule:"required",errorMessage:"Campo requerido"}]).addField("#distrito-cb",[{rule:"required",errorMessage:"Campo requerido"}]).addField("#dir-cb",[{rule:"required",errorMessage:"Campo requerido"}]).addField("#ref-cb",[{rule:"required",errorMessage:"Campo requerido"}]).addField("#email-cb",[{rule:"required",errorMessage:"Email es requerido"},{rule:"email",errorMessage:"Email no tiene un formato valido"}]).addRequiredGroup("#yourage_cb_radio_group").addField("#tipo-rec-cb",[{rule:"required",errorMessage:"Campo requerido"}]).addField("#tipo-con-cb",[{rule:"required",errorMessage:"Campo requerido"}]).addField("#npedido-cb",[{rule:"required",errorMessage:"Campo requerido"}]).addField("#daterac-cb",[{rule:"required",errorMessage:"Campo requerido"}]).addField("#prov-cb",[{rule:"required",errorMessage:"Campo requerido"}]).addField("#mont-cb",[{rule:"required",errorMessage:"Campo requerido"}]).addField("#desc-cb",[{rule:"required",errorMessage:"Campo requerido"}]).addField("#datec-cb",[{rule:"required",errorMessage:"Campo requerido"}]).addField("#dated-cb",[{rule:"required",errorMessage:"Campo requerido"}]).addField("#datea-cb",[{rule:"required",errorMessage:"Campo requerido"}]).addField("#det-cb",[{rule:"required",errorMessage:"Campo requerido"}]).addField("#ped-cb",[{rule:"required",errorMessage:"Campo requerido"}]).addField("#acepto-cb",[{rule:"required",errorMessage:"Campo requerido"}]).addField("#temr-cb",[{rule:"required",errorMessage:"Campo requerido"}]).onSuccess(function(){var e,n,d,t,i,u;q.append("action","libro_lrq"),q.append("nombres",document.querySelector('input[name="name-cb"]').value),q.append("apellidos",document.querySelector('input[name="lastname-cb"]').value),q.append("tipo_doc",document.querySelector('select[name="tipo-doc-cb"]').value),q.append("nro_documento",document.querySelector('input[name="nro-doc-cb"]').value),q.append("celular",document.querySelector('input[name="cel-cb"]').value),q.append("departamento",document.querySelector('select[name="departamento-cb"]').value),q.append("provincia",document.querySelector('select[name="provincia-cb"]').value),q.append("distrito",document.querySelector('select[name="distrito-cb"]').value),q.append("direccion",document.querySelector('input[name="dir-cb"]').value),q.append("referencia",document.querySelector('input[name="ref-cb"]').value),q.append("email",document.querySelector('input[name="email-cb"]').value),q.append("flag_menor",null!==(e=null===(n=document.querySelector('input[name="your-age-cb"]:checked'))||void 0===n?void 0:n.value)&&void 0!==e?e:""),q.append("nombre_tutor",document.querySelector('input[name="padmatu-name-cb"]').value),q.append("email_tutor",document.querySelector('input[name="padmatu-email-cb"]').value),q.append("tipo_doc_tutor",document.querySelector('select[name="padmatu-tipo-doc-cb"]').value),q.append("numero_documento_tutor",document.querySelector('input[name="padmatu-nro-doc-cb"]').value),q.append("tipo_reclamacion",document.querySelector('select[name="tipo-rec-cb"]').value),q.append("tipo_consumo",document.querySelector('select[name="tipo-con-cb"]').value),q.append("nro_pedido",document.querySelector('input[name="npedido-cb"]').value),q.append("fch_reclamo",document.querySelector('input[name="daterac-cb"]').value),q.append("proveedor",document.querySelector('input[name="prov-cb"]').value),q.append("monto_reclamado",document.querySelector('input[name="mont-cb"]').value),q.append("descripcion",document.querySelector('textarea[name="desc-cb"]').value),q.append("fch_compra",document.querySelector('input[name="datec-cb"]').value),q.append("fch_consumo",document.querySelector('input[name="dated-cb"]').value),q.append("fch_vencimiento",document.querySelector('input[name="datea-cb"]').value),q.append("detalle",document.querySelector('textarea[name="det-cb"]').value),q.append("pedido_cliente",document.querySelector('textarea[name="ped-cb"]').value),q.append("acepta_contenido",null!==(d=null===(t=document.querySelector('input[name="acepto-cb"]:checked'))||void 0===t?void 0:t.value)&&void 0!==d?d:""),q.append("acepta_politica",null!==(i=null===(u=document.querySelector('input[name="temr-cb"]:checked'))||void 0===u?void 0:u.value)&&void 0!==i?i:""),r.disabled=!0,r.textContent="CARGANDO...",(0,a.A)({url:jsVars.ajax_url,method:"POST",params:q,async:!0,done:function(e){o.innerHTML=e.data},error:function(e){o&&(o.innerHTML="Error al procesar la solicitud:"+e)},always:function(){r.textContent="ENVIAR",r.disabled=!1,setTimeout(function(){o.innerHTML=""},5e3)}})}),p.forEach(function(e){e.addEventListener("change",function(e){"Si"===e.target.value?(m.classList.remove("ds-none"),v.addField("#padmatu-name-cb",[{rule:"required",errorMessage:"Campo requerido"}]).addField("#padmatu-email-cb",[{rule:"required",errorMessage:"Email es requerido"},{rule:"email",errorMessage:"Email no tiene un formato valido"}]).addField("#padmatu-tipo-doc-cb",[{rule:"required",errorMessage:"Campo requerido"}]).addField("#padmatu-nro-doc-cb",[{validator:function(e){return b(document.querySelector("#padmatu-tipo-doc-cb").value,e)},errorMessage:"Número de documentación inválido según el tipo"}])):(m.classList.add("ds-none"),v.removeField("#padmatu-name-cb"),v.removeField("#padmatu-email-cb"),v.removeField("#padmatu-tipo-doc-cb"),v.removeField("#padmatu-nro-doc-cb"))})}),s.forEach(function(e){e.addEventListener("input",function(){e.style.height="auto",e.style.height=e.scrollHeight+"px"})}),u&&c){var f=new FormData;f.append("action","get_provincias"),f.append("id_depa",u),(0,a.A)({url:jsVars.ajax_url,method:"POST",params:f,async:!0,done:function(e){if(e.success&&(t.innerHTML='<option value="">Seleccione provincia</option>',e.data.forEach(function(e){var r=document.createElement("option");r.value=e.idProv,r.textContent=e.nombre,e.idProv==c&&(r.selected=!0),t.appendChild(r)}),c&&l)){var r=new FormData;r.append("action","get_distritos"),r.append("id_prov",c),(0,a.A)({url:jsVars.ajax_url,method:"POST",params:r,async:!0,done:function(e){e.success&&(i.innerHTML='<option value="">Seleccione distrito</option>',e.data.forEach(function(e){var r=document.createElement("option");r.value=e.idDist,r.textContent=e.nombre,e.idDist==l&&(r.selected=!0),i.appendChild(r)}))}})}}})}d&&d.addEventListener("change",function(){var e=this.value;if(t){t.innerHTML='<option value=""></option>',i.innerHTML='<option value=""></option>';var r=new FormData;r.append("action","get_provincias"),r.append("id_depa",e),(0,a.A)({url:jsVars.ajax_url,method:"POST",params:r,async:!0,done:function(e){e.success&&(t.innerHTML='<option value="">Seleccione provincia</option>',i.innerHTML='<option value="">Seleccione distrito</option>',e.data.forEach(function(e){var r=document.createElement("option");r.value=e.idProv,r.textContent=e.nombre,t.appendChild(r)}))},error:function(){},always:function(){}})}}),t&&t.addEventListener("change",function(){var e=this.value;if(i){i.innerHTML='<option value=""></option>';var r=new FormData;r.append("action","get_distritos"),r.append("id_prov",e),(0,a.A)({url:jsVars.ajax_url,method:"POST",params:r,async:!0,done:function(e){e.success&&(i.innerHTML='<option value="">Seleccione distrito</option>',e.data.forEach(function(e){var r=document.createElement("option");r.value=e.idDist,r.textContent=e.nombre,i.appendChild(r)}))},error:function(){},always:function(){}})}})})},840:function(e,r,o){function a(e){var r=e.url,o=e.method,a=void 0===o?"GET":o,n=e.params,d=void 0===n?{}:n,t=e.async,i=void 0===t||t,u=e.done,c=void 0===u?function(){}:u,l=e.error,p=void 0===l?function(){}:l,m=e.always,s=void 0===m?function(){}:m,v=e.responseType,q=void 0===v?"json":v,b=new XMLHttpRequest;b.responseType=q,b.onreadystatechange=function(){4===b.readyState&&(s(),200===b.status?c(b.response):p(b.status))},b.open(a,r,i),b.send(d)}o.d(r,{A:function(){return a}})}},function(e){e.O(0,[660],function(){return r=677,e(e.s=r);var r});e.O()}]);