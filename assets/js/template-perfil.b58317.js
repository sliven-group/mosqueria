"use strict";(self.webpackChunkmosqueira=self.webpackChunkmosqueira||[]).push([[924],{840:function(e,n,a){function r(e){var n=e.url,a=e.method,r=void 0===a?"GET":a,o=e.params,t=void 0===o?{}:o,i=e.async,u=void 0===i||i,d=e.done,c=void 0===d?function(){}:d,s=e.error,l=void 0===s?function(){}:s,p=e.always,m=void 0===p?function(){}:p,v=e.responseType,f=void 0===v?"json":v,g=new XMLHttpRequest;g.responseType=f,g.onreadystatechange=function(){4===g.readyState&&(m(),200===g.status?c(g.response):l(g.status))},g.open(r,n,u),g.send(t)}a.d(n,{A:function(){return r}})},969:function(e,n,a){var r=a(840),o=a(482);window.addEventListener("load",function(){var e=document.getElementById("mos-form-account"),n=e.querySelector("#mos-form-account-btn"),a=document.getElementById("mos-form-account-message"),t=new o.Ay(e),i=new FormData,u=document.getElementById("mos-form-billing"),d=u.querySelector("#mos-form-billing-btn"),c=document.getElementById("mos-form-billing-message"),s=new o.Ay(u),l=new FormData,p=document.getElementById("departamento-billing"),m=document.getElementById("provincia-billing"),v=document.getElementById("distrito-billing"),f=null==p?void 0:p.value,g=null==m?void 0:m.dataset.provincia,y=null==v?void 0:v.dataset.distrito;if(t.addField("#name-account",[{rule:"required",errorMessage:"Nombre de usuario es requerido"}]).addField("#lastname-account",[{rule:"required",errorMessage:"Apellido es requerido"}]).addField("#day-account",[{rule:"required",errorMessage:"Día de nacimiento es requerido"}]).addField("#mount-account",[{rule:"required",errorMessage:"Mes de nacimiento es requerido"}]).addField("#year-account",[{rule:"required",errorMessage:"Año de nacimiento es requerido"}]).addField("#phone-account",[{rule:"required",errorMessage:"Telefono es requerido"}]).addField("#email-account",[{rule:"required",errorMessage:"Email es requerido"},{rule:"email",errorMessage:"Email no tiene un formato valido"}]).addField("#password-account",[{rule:"password",errorMessage:"La contraseña debe contener un mínimo de ocho caracteres, al menos una letra y un número"}]).addField("#password-confirm-account",[{validator:function(e,n){return!n["#password-account"]||!n["#password-account"].elem||e===n["#password-account"].elem.value},errorMessage:"La contraseña no coincide"}]).addField("#personal-data-account",[{rule:"required",errorMessage:"Confirmación de mayor de edad es requerido"}]).onSuccess(function(){n.textContent="CARGANDO...",i.append("action","update_user"),i.append("user_id",document.querySelector('input[name="user-id"]').value),i.append("account_first_name",e.querySelector('input[name="name-account"]').value),i.append("account_last_name",e.querySelector('input[name="lastname-account"]').value),i.append("account_display_name",e.querySelector('input[name="nickname-account"]').value),i.append("account_day",e.querySelector('select[name="day-account"]').value),i.append("account_month",e.querySelector('select[name="mount-account"]').value),i.append("account_year",e.querySelector('select[name="year-account"]').value),i.append("account_phone",e.querySelector('input[name="phone-account"]').value),i.append("account_email",e.querySelector('input[name="email-account"]').value),i.append("password_current",e.querySelector('input[name="password-account"]').value),i.append("password_confirm",e.querySelector('input[name="password-confirm-account"]').value),i.append("account_confirm_age",e.querySelector('input[name="personal-data-account"]').checked),(0,r.A)({url:jsVars.ajax_url,method:"POST",params:i,async:!0,done:function(e){e.status&&a&&(a.innerHTML=e.message)},error:function(e){a&&(a.innerHTML="Error al procesar la solicitud:"+e)},always:function(){n.textContent="GUARDAR CAMBIOS",setTimeout(function(){a.innerHTML=""},5e3)}})}),s.addField("#name-billing",[{rule:"required",errorMessage:"Nombre de usuario es requerido"}]).addField("#lastname-billing",[{rule:"required",errorMessage:"Apellido es requerido"}]).addField("#address-billing",[{rule:"required",errorMessage:"Dirección es requerido"}]).addField("#departamento-billing",[{rule:"required",errorMessage:"Departamento es requerido"}]).addField("#provincia-billing",[{rule:"required",errorMessage:"Provincia es requerido"}]).addField("#distrito-billing",[{rule:"required",errorMessage:"Distrito es requerido"}]).onSuccess(function(){d.textContent="CARGANDO...",l.append("action","update_address"),l.append("user_id",document.querySelector('input[name="user-id"]').value),l.append("billing_first_name",u.querySelector('input[name="name-billing"]').value),l.append("billing_last_name",u.querySelector('input[name="lastname-billing"]').value),l.append("billing_adresss",u.querySelector('input[name="address-billing"]').value),l.append("billing_departamento",u.querySelector('select[name="departamento-billing"]').value),l.append("billing_provincia",u.querySelector('select[name="provincia-billing"]').value),l.append("billing_distrito",u.querySelector('select[name="distrito-billing"]').value),(0,r.A)({url:jsVars.ajax_url,method:"POST",params:l,async:!0,done:function(e){e.success&&c&&(c.innerHTML=e.data.message)},error:function(e){c&&(c.innerHTML="Error al procesar la solicitud:"+e)},always:function(){d.textContent="GUARDAR CAMBIOS",setTimeout(function(){c.innerHTML=""},5e3)}})}),f&&g){var q=new FormData;q.append("action","get_provincias"),q.append("id_depa",f),(0,r.A)({url:jsVars.ajax_url,method:"POST",params:q,async:!0,done:function(e){if(e.success&&(m.innerHTML='<option value="">Seleccione provincia</option>',e.data.forEach(function(e){var n=document.createElement("option");n.value=e.idProv,n.textContent=e.nombre,e.idProv==g&&(n.selected=!0),m.appendChild(n)}),g&&y)){var n=new FormData;n.append("action","get_distritos"),n.append("id_prov",g),(0,r.A)({url:jsVars.ajax_url,method:"POST",params:n,async:!0,done:function(e){e.success&&(v.innerHTML='<option value="">Seleccione distrito</option>',e.data.forEach(function(e){var n=document.createElement("option");n.value=e.idDist,n.textContent=e.nombre,e.idDist==y&&(n.selected=!0),v.appendChild(n)}))}})}}})}p&&p.addEventListener("change",function(){var e=this.value;if(m){m.innerHTML='<option value=""></option>';var n=new FormData;n.append("action","get_provincias"),n.append("id_depa",e),(0,r.A)({url:jsVars.ajax_url,method:"POST",params:n,async:!0,done:function(e){e.success&&(m.innerHTML='<option value="">Seleccione provincia</option>',e.data.forEach(function(e){var n=document.createElement("option");n.value=e.idProv,n.textContent=e.nombre,m.appendChild(n)}))},error:function(){},always:function(){}})}}),m&&m.addEventListener("change",function(){var e=this.value;if(v){v.innerHTML='<option value=""></option>';var n=new FormData;n.append("action","get_distritos"),n.append("id_prov",e),(0,r.A)({url:jsVars.ajax_url,method:"POST",params:n,async:!0,done:function(e){e.success&&(v.innerHTML='<option value="">Seleccione distrito</option>',e.data.forEach(function(e){var n=document.createElement("option");n.value=e.idDist,n.textContent=e.nombre,v.appendChild(n)}))},error:function(){},always:function(){}})}})})}},function(e){e.O(0,[660],function(){return n=969,e(e.s=n);var n});e.O()}]);