"use strict";(self.webpackChunkmosqueira=self.webpackChunkmosqueira||[]).push([[905],{687:function(e,t,n){function i(e,t,n,i){e.addEventListener(t,(function(e){var t=e.target.closest(n);t&&i.call(t,e)}))}n.d(t,{A:function(){return i}})},438:function(e,t,n){n.d(t,{G:function(){return o},W:function(){return i}});var i=["ANCON","ATE","CARABAYLLO","CHACLACAYO","CIENEGUILLA","COMAS","INDEPENDENCIA","LA MOLINA","LA PLANICIE","LA VICTORIA","CERCADO DE LIMA","LOS OLIVOS","LURIN","PACHACAMAC","PUENTE PIEDRA","RIMAC","SAN JUAN DE LURIGANCHO","SAN JUAN DE MIRAFLORES","SAN LUIS","SAN MARTIN DE PORRES","SAN MIGUEL","SANTA ROSA","VILLA EL SALVADOR","VILLA MARIA DEL TRIUNFO","LA PUNTA","CALLAO","CARMEN DE LA LEGUA"],o=["VILLA EL SALVADOR","VILLA MARIA DEL TRIUNFO","LA MOLINA","SAN JUAN DE LURIGANCHO","COMAS","SAN MARTIN DE PORRES","SAN MIGUEL","CALLAO","LOS OLIVOS","LA VICTORIA","SAN LUIS","RIMAC","LIMA"]},507:function(e,t,n){var i=n(687),o=n(438);window.addEventListener("load",(function(){var e=document.querySelector("form.checkout"),t=document.querySelectorAll(".mos__steps__item"),n=document.querySelectorAll(".mos__steps__content__item"),a="1"==jsVars.is_checkout?2:1,l=document.getElementById("additional_email"),d=document.getElementById("additional_name"),s=document.getElementById("additional_lastname"),r=document.getElementById("additional_dni"),c=document.getElementById("additional_phone"),u=document.getElementById("additional_newsletter"),m=document.getElementById("billing_first_name"),v=document.getElementById("billing_last_name"),L=document.getElementById("billing_phone"),A=document.getElementById("billing_email"),p=document.getElementById("billing_departamento"),E=document.getElementById("billing_provincia"),I=document.getElementById("billing_distrito"),_=document.getElementById("billing_address_1"),g=this.document.getElementById("billing_city"),f={additional_email:l,additional_name:d,additional_lastname:s,additional_dni:r,additional_phone:c},M={billing_first_name:m,billing_last_name:v,billing_phone:L,billing_email:A,billing_departamento:p,billing_provincia:E,billing_distrito:I,billing_address_1:_},b=tarifasDistritos.express.map((function(e){return e.toUpperCase()})),y=tarifasDistritos.regular.map((function(e){return e.toUpperCase()}));function h(e){if("1"!=jsVars.is_cart&&!(e<1||e>t.length)){t.forEach((function(e){return e.classList.remove("active")})),n.forEach((function(e){return e.classList.remove("active")}));var i=document.querySelector('[data-step="step-'.concat(e,'"]'));i&&i.classList.add("active");var o=document.getElementById("step-".concat(e));o&&o.classList.add("active"),a=e}}function C(e,t){var n=t.value.trim(),i=document.getElementById("error-"+e);if(i||((i=document.createElement("div")).id="error-"+e,i.className="error-message",t.insertAdjacentElement("afterend",i)),i.innerText="",""===n)return t.classList.add("invalid"),i.innerText="Este campo es obligatorio.",!1;if(t.classList.remove("invalid"),"additional_dni"===e&&!/^\d{8}$/.test(n))return t.classList.add("invalid"),i.innerText="El DNI debe tener exactamente 8 dígitos.",!1;if("additional_email"===e){if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n))return t.classList.add("invalid"),i.innerText="Ingrese un correo electrónico válido.",!1}return!("additional_phone"===e&&!/^\d{9}$/.test(n))||(t.classList.add("invalid"),i.innerText="El Teléfono debe tener exactamente 9 dígitos.",!1)}function N(e,t){e.innerHTML='<p>La tarifa de delivery hacia su destino es variable. <a href="https://wa.me/51908900915?text=Hola! Quiero realizar un pedido y la tarifa a mi distrito es variable" target="_blank">Comuníquese con un asesor</a></p>',t.classList.add("ds-none")}function O(){if(!(a<3)){var e=document.getElementById("billing_distrito"),t=document.getElementById("billing_provincia"),n=document.getElementById("billing_departamento"),i=document.querySelector("#billing_delivery_methods_field .woocommerce-input-wrapper"),l=document.getElementById("billing_delivery_methods"),d=document.getElementById("mos-checkout-next-step");l||(i.innerHTML='<select name="billing_delivery_methods" id="billing_delivery_methods" class="select"><option value="">Selecciona un método</option></select>',l=document.getElementById("billing_delivery_methods"));var s=e?e.options[e.selectedIndex].textContent.trimEnd():"",r=t?t.options[t.selectedIndex].textContent.trimEnd():"",c=n?n.options[n.selectedIndex].textContent.trimEnd():"";l.innerHTML="",g&&(g.value=s),l.innerHTML='<option value="">Selecciona un método</option>',"LIMA"===c&&"LIMA"===r&&y.includes(s)&&b.includes(s)||"LIMA"===c&&"CALLAO"===r&&"LA PUNTA"===s?(l.innerHTML='\n\t\t\t\t<option value="">Selecciona un método</option>\n\t\t\t\t<option value="express">Envío Express - Máx. 4 horas</option>\n\t\t\t\t<option value="regular">Envío Regular - Máx. 2 días hábiles</option>\n\t\t\t',d.classList.remove("ds-none")):"LIMA"===c&&"LIMA"===r&&b.includes(s)&&!o.G.includes(s)?(l.innerHTML+='<option value="express">Envío Express - Máx. 4 horas</option>',d.classList.remove("ds-none")):"LIMA"===c&&"LIMA"===r&&y.includes(s)&&!o.W.includes(s)?(l.innerHTML+='<option value="regular">Envío Regular - Máx. 2 días hábiles</option>',d.classList.remove("ds-none")):"LIMA"!==c&&"LIMA"!==r&&tarifasDistritos.provincia.some((function(e){return e.departamento.toUpperCase()===c&&e.provincia.toUpperCase()===r&&e.distrito.toUpperCase()===s}))||"LIMA"===c&&"LIMA"!==r&&tarifasDistritos.provincia.some((function(e){return e.departamento.toUpperCase()===c&&e.provincia.toUpperCase()===r&&e.distrito.toUpperCase()===s}))||"LIMA"===c&&"LIMA"===r&&"YAUYOS"===s||"LORETO"===c&&"DATEM DEL MARAÑON"===r&&"BARRANCA"===s?(l.innerHTML+='<option value="provincia">Envío Provincia - Máx. 5 días hábiles</option>',d.classList.remove("ds-none")):"LIMA"===c&&"LIMA"===r&&(o.W.includes(s)||o.G.includes(s))||"LIMA"===c&&"CALLAO"===r&&(o.W.includes(s)||o.G.includes(s))?N(i,d):(i.innerHTML="<p>No se realizan envíos a la ubicación seleccionada.</p>",d.classList.add("ds-none"))}}((0,i.A)(document,"click","#mos-checkout-next-step",(function(e){e.preventDefault;var t=document.getElementById("billing_delivery_methods"),n=document.getElementById("place_order");2===a?function(){var e=!0;for(var t in f)C(t,f[t])||(e=!1);return e}()&&(h(3),m.value=d.value,v.value=s.value,L.value=c.value,A.value=l.value):3===a&&function(){var e=!0;for(var t in M)C(t,M[t])||(e=!1);return e}()&&""!=t.value&&(h(4),4===a&&(this.classList.add("ds-none"),n.classList.remove("ds-none")))})),(0,i.A)(document,"click",".mos__step__back",(function(e){e.preventDefault;var t=document.getElementById("mos-checkout-next-step"),n=document.getElementById("place_order");h(--a),3===a&&(n.classList.add("ds-none"),t.classList.remove("ds-none"))})),I)&&(new MutationObserver((function(e){e.forEach((function(e){"childList"===e.type&&O()}))})).observe(I,{childList:!0}),I.addEventListener("change",O));if(l){var S=function(e){var t=f[e];t.addEventListener("input",(function(){C(e,t)}))};for(var T in f)S(T);var R=function(e){var t=M[e];t.addEventListener("input",(function(){C(e,t)}))};for(var B in M)R(B)}e&&new MutationObserver((function(t){t.forEach((function(t){"class"===t.attributeName&&(e.classList.contains("processing")?(document.getElementById("place_order").innerHTML="PROCESANDO...",document.getElementById("place_order").disabled=!0):(document.getElementById("place_order").innerHTML="REALIZAR EL PEDIDO",document.getElementById("place_order").disabled=!1))}))})).observe(e,{attributes:!0});u&&u.addEventListener("change",(function(){this.checked?this.setAttribute("value","1"):this.setAttribute("value","0")})),l.value=preloadedData.email,d.value=preloadedData.nombres,s.value=preloadedData.apellidos,c.value=preloadedData.telefono,setTimeout((function(){p.value=preloadedData.departamento}),1e3),setTimeout((function(){E.value=preloadedData.provincia}),2e3),setTimeout((function(){p.dispatchEvent(new Event("change"))}),1500),setTimeout((function(){E.dispatchEvent(new Event("change"))}),2500),setTimeout((function(){document.querySelector("#billing_delivery_methods_field .woocommerce-input-wrapper").innerHTML='<select name="billing_delivery_methods" id="billing_delivery_methods" class="select"><option value="">Selecciona un método</option></select>'}),3e3),h(a)}))}},function(e){var t;t=507,e(e.s=t)}]);